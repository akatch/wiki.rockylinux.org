
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://rocky.shootthej.net/archive/legacy/bootstrap_i686/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.9">
    
    
      
        <title>Bootstrap i686 - Rocky Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.120efc48.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.9647289d.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Rocky Wiki" class="md-header__button md-logo" aria-label="Rocky Wiki" data-md-component="logo">
      
  <img src="../../../assets/icon-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Rocky Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bootstrap i686
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Rocky Wiki" class="md-nav__button md-logo" aria-label="Rocky Wiki" data-md-component="logo">
      
  <img src="../../../assets/icon-white.svg" alt="logo">

    </a>
    Rocky Wiki
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../links/" class="md-nav__link">
        Link Directory
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Archive
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Archive" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Archive
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Archives
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Legacy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Legacy" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Legacy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Legacy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../8_4_package_errors/" class="md-nav__link">
        Rocky Release 8.4 Package Errors
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Bootstrap i686
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Bootstrap i686
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-mock-and-configuration" class="md-nav__link">
    Install Mock and Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-the-recursive-repo" class="md-nav__link">
    Setup the recursive repo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull-required-hidden-deps" class="md-nav__link">
    Pull required hidden deps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-pull-all-the-sources-from-the-vault" class="md-nav__link">
    Optional: Pull all the sources from the vault
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actually-build" class="md-nav__link">
    Actually build
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build_steps/" class="md-nav__link">
        Rocky Build Process Overview (Revised)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../external_package_space/" class="md-nav__link">
        External Package Scratch Space
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hidden_deps/" class="md-nav__link">
        Hidden / External Dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../koji_bootstrap/" class="md-nav__link">
        Koji Bootstrap (setup)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../koji_setup/" class="md-nav__link">
        Koji setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mbs_installation/" class="md-nav__link">
        Module-build-service "mbs" setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mock_building_guide/" class="md-nav__link">
        Mock building guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modularity/" class="md-nav__link">
        Modularity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module_build_order/" class="md-nav__link">
        Module Build Order
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mqtt_bus/" class="md-nav__link">
        CentOS MQTT message bus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../package_debugging/" class="md-nav__link">
        How to Help - Getting Started with Package Debugs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../package_error_tracking/" class="md-nav__link">
        Package Build Issues Tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../package_error_tracking_older/" class="md-nav__link">
        Package Build Issues Tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../packaging/" class="md-nav__link">
        Packaging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/rosca/" class="md-nav__link">
        Rocky Open Source Contributor Agreement
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/start/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Guidelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guidelines" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Guidelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guidelines/bug_tracker_guidelines/" class="md-nav__link">
        Bug Tracker Guidelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guidelines/git_guidelines/" class="md-nav__link">
        Git Guidelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guidelines/maillist_guidelines/" class="md-nav__link">
        RESF Mailing List Guidelines
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Irc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Irc" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Irc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../irc/" class="md-nav__link">
        IRC General Information
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Rocky
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Rocky" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Rocky
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../rocky/" class="md-nav__link">
        Rocky Linux General Information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../rocky/repo/" class="md-nav__link">
        Rocky Linux Repositories
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Special interest groups
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Special interest groups" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Special interest groups
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../special_interest_groups/" class="md-nav__link">
        Special Interest Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../special_interest_groups/sig_guide/" class="md-nav__link">
        SIG Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Team
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Team" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Team
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/" class="md-nav__link">
        Teams
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_2" type="checkbox" id="__nav_9_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_2">
          Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Design" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_2">
          <span class="md-nav__icon md-icon"></span>
          Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/design/" class="md-nav__link">
        Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/design/branding/" class="md-nav__link">
        Branding
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_3" type="checkbox" id="__nav_9_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_3">
          Infrastructure
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Infrastructure" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_3">
          <span class="md-nav__icon md-icon"></span>
          Infrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/infrastructure/awx_scm_guidelines/" class="md-nav__link">
        AWX SCM Guidelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/infrastructure/idm_pdr/" class="md-nav__link">
        PDR Delete Request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/infrastructure/idm_sop_gdpr/" class="md-nav__link">
        SOP: Personal Data Request - Deletion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/infrastructure/services/" class="md-nav__link">
        Services and Software
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_4" type="checkbox" id="__nav_9_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_4">
          Release engineering
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release engineering" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_4">
          <span class="md-nav__icon md-icon"></span>
          Release engineering
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/" class="md-nav__link">
        Release Engineering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/koji_tagging/" class="md-nav__link">
        Koji Tagging Strategy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/packagekit/" class="md-nav__link">
        PackageKit Missing Items
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/patching/" class="md-nav__link">
        Rocky Patching How-To
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/sop_compose/" class="md-nav__link">
        SOP: Compose and Repo Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_4_6" type="checkbox" id="__nav_9_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_4_6">
          Debranding
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Debranding" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_4_6">
          <span class="md-nav__icon md-icon"></span>
          Debranding
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/debranding/" class="md-nav__link">
        Intro to Debranding with Rocky Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/debranding/debrand_list/" class="md-nav__link">
        Rocky Debrand Packages List
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_4_7" type="checkbox" id="__nav_9_4_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_4_7">
          Guidelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guidelines" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_4_7">
          <span class="md-nav__icon md-icon"></span>
          Guidelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/guidelines/" class="md-nav__link">
        Guidelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/guidelines/rocky_logos_guidelines/" class="md-nav__link">
        Rocky Logos Package Guidelines
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_4_8" type="checkbox" id="__nav_9_4_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_4_8">
          Legacy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Legacy" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_4_8">
          <span class="md-nav__icon md-icon"></span>
          Legacy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/legacy/debrand_list/" class="md-nav__link">
        Rocky Debrand Packages List
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_4_9" type="checkbox" id="__nav_9_4_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_4_9">
          Rpm
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Rpm" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_4_9">
          <span class="md-nav__icon md-icon"></span>
          Rpm
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/rpm/" class="md-nav__link">
        RPM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/release_engineering/rpm/local_module_builds/" class="md-nav__link">
        Local Module Builds
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_5" type="checkbox" id="__nav_9_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_5">
          Testing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Testing" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_5">
          <span class="md-nav__icon md-icon"></span>
          Testing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../team/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Bootstrap i686</h1>

<p>Koji, by default, does not build packages as multiarch, it expects a i686 repo/buildroot as that is what <strong>mock</strong> expects. It appears that it requires a 32 bit bootstrap to start off. However, Enterprise Linux 8 does <strong>not</strong> have a 32 bit repo. To get around this, packages have to be bootstrapped using at least Fedora 28 (and Fedora 29 for couple of instances).</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<h3 id="install-mock-and-configuration">Install Mock and Configuration<a class="headerlink" href="#install-mock-and-configuration" title="Permanent link">&para;</a></h3>
<p>Install mock...</p>
<pre><code>% yum install epel-release
% yum install mock createrepo_c httpd -y
% useradd rpmbuild
% usermod -aG mock rpmbuild
</code></pre>
<p>Add a proper mock configuration...</p>
<pre><code>% cat &gt;&gt; /etc/mock/rocky-8-i686.cfg &lt;&lt; &quot;EOF&quot;
# A lot of these values do not matter as they will be overridden later
# with koji's mock settings
config_opts['root'] = 'rocky-8-i686'
config_opts['target_arch'] = 'i686'
config_opts['legal_host_arches'] = ('i386', 'i486', 'i586', 'i686', 'x86_64',)
config_opts['chroot_setup_cmd'] = 'install bash bzip2 coreutils cpio diffutils system-release findutils gawk gcc gcc-c++ grep gzip info make patch redhat-rpm-config rpm-build sed shadow-utils tar unzip util-linux which xz'
config_opts['dist'] = 'el8'  # only useful for --resultdir variable subst
config_opts['macros']['%dist'] = &quot;.el8&quot;
config_opts['%centos_ver'] = &quot;8&quot;
config_opts['macros']['%centos_ver'] = &quot;8&quot;
config_opts['macros']['%rhel'] = &quot;8&quot;
config_opts['macros']['%el8'] = &quot;1&quot;
config_opts['macros']['%redhat'] = &quot;8&quot;
config_opts['macros']['%_vendor'] = &quot;redhat&quot;
config_opts['macros']['%_vendor_host'] = &quot;redhat&quot;
config_opts['macros']['%_host'] = &quot;i686-redhat-linux-gnu&quot;
config_opts['macros']['%vendor'] = &quot;Rocky Linux&quot;
config_opts['macros']['%packager'] = &quot;Louis Abel &lt;label@rockylinux.org&gt;&quot;
#config_opts['package_manager'] = 'yum'

# no ccache in base repo
#config_opts['plugin_conf']['ccache_enable'] = False
#config_opts['plugin_conf']['yum_cache_enable'] = False

config_opts['yum.conf'] = &quot;&quot;&quot;
[main]
cachedir=/var/cache/yum
keepcache=1
debuglevel=2
reposdir=/dev/null
logfile=/var/log/yum.log
retries=20
obsoletes=1
gpgcheck=0
assumeyes=1
syslog_ident=mock
syslog_device=

exclude=*.x86_64 

# We are using Fedora 28 or 29 as our bases. 28 is what we use mainly. There are
# a few cases where I needed 29 instead, but they were far and few between.

# In majority of builds now with the current bootstrap, Fedora is rarely used.
# Even though this is the case, we still need to exclude specific packages as
# they have epochs or dnf decides to use Fedora instead for whatever reason.

[base_29]
name=fedora 29 base
baseurl=https://archives.fedoraproject.org/pub/archive/fedora-secondary/releases/29/Everything/i386/os/
enabled=0
gpgcheck=0
cost=2000
exclude=gcc*,fedora-release*,gdbm-devel,gdbm,gdbm-libs,python3-libs,unbound*,gnutls*,python*,generic-release,fedora-repos,fedora-gpg-keys,perl*

[updates_29]
name=fedora 29 updates
baseurl=https://archives.fedoraproject.org/pub/archive/fedora-secondary/updates/29/Everything/i386/
enabled=0
gpgcheck=0
cost=2000
exclude=gcc*,fedora-release*,gdbm-devel,gdbm,gdbm-libs,python3-libs,unbound*,gnutls*,python*,generic-release,fedora-repos,fedora-gpg-keys,perl*

[base_28]
name=fedora 28 base
baseurl=https://archives.fedoraproject.org/pub/archive/fedora-secondary/releases/28/Everything/i386/os/
enabled=1
gpgcheck=0
cost=2000
priority=99
exclude=gcc*,fedora-release*,gdbm-devel,gdbm,gdbm-libs,python3-libs,unbound*,gnutls*,python*,generic-release,fedora-repos,fedora-gpg-keys,perl*

[updates_28]
name=fedora 28 updates
baseurl=https://archives.fedoraproject.org/pub/archive/fedora-secondary/updates/28/Everything/i386/
enabled=1
gpgcheck=0
cost=2000
priority=99
exclude=gcc*,fedora-release*,gdbm-devel,gdbm,gdbm-libs,python3-libs,unbound*,gnutls*,python*,generic-release,fedora-repos,fedora-gpg-keys,perl*

# These aren't ever used, but it doesn't hurt to have them here disabled.
[modular]
name=fedora 28 modular
baseurl=https://archives.fedoraproject.org/pub/archive/fedora-secondary/releases/28/Modular/i386/os/
enabled=0
gpgcheck=0
cost=2500

[modular_updates]
name=fedora 28 modular updates
baseurl=https://archives.fedoraproject.org/pub/archive/fedora-secondary/updates/28/Modular/i386/
enabled=0
gpgcheck=0
cost=2500

# Sometimes I enable this, but usually I just copy what's there into /reqs and
# createrepo.
[i686]
name=i686 only
baseurl=file:///var/www/html/src/i686
enabled=0
gpgcheck=0
cost=1000

# Everything we're building into a single repo. This has higher priority.
[recursive]
name=recursive
baseurl=file:///var/www/html/src/reqs
enabled=1
gpgcheck=0
cost=1000
priority=1
module_hotfixes=0
&quot;&quot;&quot;
</code></pre>
<h3 id="setup-the-recursive-repo">Setup the recursive repo<a class="headerlink" href="#setup-the-recursive-repo" title="Permanent link">&para;</a></h3>
<p>So we can create an empty repo so mock/dnf is ok with that. However, that won't cut everything. We need a couple RPM's first. We can pull the noarch packages that centos has right now to get us started.</p>
<pre><code>% mkdir -p /var/www/html/src/{reqs,logs,mirror,hidden}

# Pull required RPM's
% wget http://mirror.centos.org/centos/8.3.2011/AppStream/x86_64/os/Packages/redhat-rpm-config-123-1.el8.noarch.rpm

# Generate repo data
% createrepo /var/www/html/src/reqs
</code></pre>
<h3 id="pull-required-hidden-deps">Pull required hidden deps<a class="headerlink" href="#pull-required-hidden-deps" title="Permanent link">&para;</a></h3>
<p>We still need some hidden dependencies. And a lot of these can be built without a problem after the above has been setup. Below is a list, which can be found on our <a href="https://copr.fedorainfracloud.org/coprs/nalika/rockylinux-tools/packages/">temporary copr</a>. You should download the source RPM's and build them.</p>
<p>You won't find a rocky-logos or rocky-release in copr. However you may find them in our koji. Highly recommended downloading them from <a href="https://kojidev.rockylinux.org">koji</a> and building them.</p>
<pre><code>-rw-r--r-- 1 root root    569161 Apr  7 04:09 atf-0.20-11.el8.src.rpm
-rw-r--r-- 1 root root   2198827 Apr  7 04:01 fonttools-3.28.0-2.el8.src.rpm
-rw-r--r-- 1 root root    670398 Apr  7 04:34 kyua-0.13-1.el8.src.rpm
-rw-r--r-- 1 root root 149325484 Mar 15 22:41 libabigail-1.4-2.el8.src.rpm
-rw-r--r-- 1 root root    500728 Apr  7 04:19 lutok-0.4-10.el8.src.rpm
-rw-r--r-- 1 root root   1107360 Aug  7  2020 nspr-4.25.0-2.el8_2.src.rpm
-rw-r--r-- 1 root root 143424626 Apr  8 06:56 nss-3.53.1-17.el8.src.rpm
-rw-r--r-- 1 root root    100839 Mar 14 22:38 pam_wrapper-1.0.7-1.el8.src.rpm
-rw-r--r-- 1 root root    149272 Dec 21 03:56 polkit-gnome-0.106-0.2.20170423gita0763a2.el8.src.rpm
-rw-r--r-- 1 root root   1507527 Mar 15 17:38 rocky-logos-83.0-1.el8.src.rpm
-rw-r--r-- 1 root root     23678 Apr  9 04:04 rocky-release-8.3-5.el8.src.rpm
-rw-r--r-- 1 root root   3527211 Apr  7 03:52 ttfautohint-1.8.1-3.el8.src.rpm
</code></pre>
<h3 id="optional-pull-all-the-sources-from-the-vault">Optional: Pull all the sources from the vault<a class="headerlink" href="#optional-pull-all-the-sources-from-the-vault" title="Permanent link">&para;</a></h3>
<p>You may need to pull all the sources from the vault. I used <a href="https://rocky.shootthej.net/src/custom/httrack-3.49.2-8.el8.x86_64.rpm">httrack</a> to do this. Note that the link may die and you may need to build it yourself.</p>
<p>Another thing is, after I pulled down the sources, I deleted all the old stuff and moved all the module packages.</p>
<pre><code>% cd /var/www/html/src/mirror
# -sN 0 helps ignore robots
% httrack https://vault.centos.org/8.3.2011/BaseOS/Source/SPackages/ -sN 0
% httrack https://vault.centos.org/8.3.2011/AppStream/Source/SPackages/ -sN 0
% httrack https://vault.centos.org/8.3.2011/HighAvailability/Source/SPackages/ -sN 0
% httrack https://vault.centos.org/8.3.2011/PowerTools/Source/SPackages/ -sN 0

# Now we need to move some things
% mv vault.centos.org/8.3.2011/BaseOS/Source/SPackages/ BaseOS
% mv vault.centos.org/8.3.2011/AppStream/Source/SPackages/ AppStream
% mv vault.centos.org/8.3.2011/HighAvailability/Source/SPackages/ HighAvailability
% mv vault.centos.org/8.3.2011/PowerTools/Source/SPackages/ PowerTools
% rm -rf vault.centos.org index.html

# I don't want to build modules. I'm doing that in koji, so instead, I'm moving them away.
% mkdir modules
% find . -type f -regextype sed -regex '.*module.*\.rpm' -exec mv {} modules/ \;

# Now I need to remove all the old stuff
# You can use repomanage on directories that are not actual repos and it will operate properly.
% for x in AppStream BaseOS HighAvailability PowerTools ; do rm $(repomanage --keep=1 ${x}) ; done
</code></pre>
<h3 id="actually-build">Actually build<a class="headerlink" href="#actually-build" title="Permanent link">&para;</a></h3>
<p>I have a kind of hacky script that takes care of this for me. You can feed it one at a time.</p>
<pre><code># ~/bin/build-a-rpm
#!/bin/bash
PACKAGE=$1
LOGDIR=/var/www/html/src/logs/${NAME//.src.rpm/}
MOCKDIR=/var/lib/mock/rocky-8-i686
mock -r rocky-8-i386 $1

if [ $? -eq 0 ]; then
  rm ${MOCKDIR}/result/*.src.rpm
  cp ${MOCKDIR}/result/*.rpm /var/www/html/src/reqs
  createrepo /var/www/html/src/reqs
  echo $1 &gt;&gt; /tmp/DONE
else
  mkdir ${LOGDIR}
  cp ${MOCKDIR}/result/*.log ${LOGDIR}
  echo $1 &gt;&gt; /tmp/FAIL
fi
</code></pre>
<pre><code>% build-a-rpm /var/www/html/src/mirror/BaseOS/tar-1.30-5.el8.src.rpm
</code></pre>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../8_4_package_errors/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Rocky Release 8.4 Package Errors" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Rocky Release 8.4 Package Errors
            </div>
          </div>
        </a>
      
      
        
        <a href="../build_steps/" class="md-footer__link md-footer__link--next" aria-label="Next: Rocky Build Process Overview (Revised)" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Rocky Build Process Overview (Revised)
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 Rocky Enterprise Software Foundation
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.integrate", "search.suggest", "navigation.top"], "search": "../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.6e54b5cd.min.js"></script>
      
    
  </body>
</html>